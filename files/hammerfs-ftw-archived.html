<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0055)http://hammerfs-ftw.blogspot.ch/search?max-results=1000 -->
<html dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta content="true" name="MSSmartTagsPreventParsing">
<meta content="blogger" name="generator">
<link href="http://hammerfs-ftw.blogspot.ch/favicon.ico" rel="icon" type="image/x-icon">
<link href="http://hammerfs-ftw.blogspot.com/search?max-results=1000" rel="canonical">
<link rel="alternate" type="application/atom+xml" title="Porting the HAMMER File System to Linux - Atom" href="http://hammerfs-ftw.blogspot.com/feeds/posts/default">
<link rel="alternate" type="application/rss+xml" title="Porting the HAMMER File System to Linux - RSS" href="http://hammerfs-ftw.blogspot.com/feeds/posts/default?alt=rss">
<link rel="service.post" type="application/atom+xml" title="Porting the HAMMER File System to Linux - Atom" href="http://www.blogger.com/feeds/2310922504104016093/posts/default">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.blogger.com/rsd.g?blogID=2310922504104016093">
<link rel="me" href="http://www.blogger.com/profile/04302402740280438773">
<link rel="openid.server" href="http://www.blogger.com/openid-server.g">
<link rel="openid.delegate" href="http://hammerfs-ftw.blogspot.com/">
<!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]-->
<title>Porting the HAMMER File System to Linux</title>
<style id="page-skin-1" type="text/css"><!--
/*
-----------------------------------------------
Blogger Template Style
Name:     Stretch Denim
Designer: Darren Delaye
URL:      www.DarrenDelaye.com
Date:     11 Jul 2006
-----------------------------------------------
*/
/* Variable definitions
====================
<Variable name="bgColor" description="Page Background Color"
type="color" default="#efefef">
<Variable name="textColor" description="Text Color"
type="color" default="#333333">
<Variable name="linkColor" description="Link Color"
type="color" default="#336699">
<Variable name="headerBgColor" description="Page Header Background Color"
type="color" default="#336699">
<Variable name="headerTextColor" description="Page Header Text Color"
type="color" default="#ffffff">
<Variable name="headerCornersColor" description="Page Header Corners Color"
type="color" default="#528bc5">
<Variable name="mainBgColor" description="Main Background Color"
type="color" default="#ffffff">
<Variable name="borderColor" description="Border Color"
type="color" default="#cccccc">
<Variable name="dateHeaderColor" description="Date Header Color"
type="color" default="#999999">
<Variable name="sidebarTitleBgColor" description="Sidebar Title Background Color"
type="color" default="#ffd595">
<Variable name="sidebarTitleTextColor" description="Sidebar Title Text Color"
type="color" default="#333333">
<Variable name="bodyFont" description="Text Font"
type="font" default="normal normal 100% Verdana, Arial, Sans-serif;">
<Variable name="headerFont" description="Page Header Font"
type="font" default="normal normal 210% Verdana, Arial, Sans-serif;">
<Variable name="startSide" description="Start side in blog language"
type="automatic" default="left">
<Variable name="endSide" description="End side in blog language"
type="automatic" default="right">
*/
body {
background: #efefef;
margin: 0;
padding: 0px;
font: x-small Verdana, Arial;
text-align: center;
color: #333333;
font-size/* */:/**/small;
font-size: /**/small;
}
a:link {
color: #336699;
}
a:visited {
color: #336699;
}
a img {
border-width: 0;
}
#outer-wrapper {
font: normal normal 100% Verdana, Arial, Sans-serif;;
}
/* Header
----------------------------------------------- */
#header-wrapper {
margin:0;
padding: 0;
background-color: #528bc5;
text-align: left;
}
#header {
margin: 0 2%;
background-color: #336699;
color: #ffffff;
padding: 0;
font: normal normal 210% Verdana, Arial, Sans-serif;;
position: relative;
}
h1.title {
padding-top: 38px;
margin: 0 1% .1em;
line-height: 1.2em;
font-size: 100%;
}
h1.title a, h1.title a:visited {
color: #ffffff;
text-decoration: none;
}
#header .description {
display: block;
margin: 0 1%;
padding: 0 0 40px;
line-height: 1.4em;
font-size: 50%;
}
/* Content
----------------------------------------------- */
.clear {
clear: both;
}
#content-wrapper {
margin: 0 2%;
padding: 0 0 15px;
text-align: left;
background-color: #ffffff;
border: 1px solid #cccccc;
border-top: 0;
}
#main-wrapper {
margin-left: 1%;
width: 100%;
float: left;
background-color: #ffffff;
display: inline;       /* fix for doubling margin in IE */
word-wrap: break-word; /* fix for long text breaking sidebar float in IE */
overflow: hidden;      /* fix for long non-text content breaking IE sidebar float */
}
#sidebar-wrapper {
margin-right: 1%;
width: 29%;
float: right;
background-color: #ffffff;
display: inline;       /* fix for doubling margin in IE */
word-wrap: break-word; /* fix for long text breaking sidebar float in IE */
overflow: hidden;      /* fix for long non-text content breaking IE sidebar float */
}
/* Headings
----------------------------------------------- */
h2, h3 {
margin: 0;
}
/* Posts
----------------------------------------------- */
.date-header {
margin: 1.5em 0 0;
font-weight: normal;
color: #999999;
font-size: 100%;
}
.post {
margin: 0 0 1.5em;
padding-bottom: 1.5em;
}
.post-title {
margin: 0;
padding: 0;
font-size: 125%;
font-weight: bold;
line-height: 1.1em;
}
.post-title a, .post-title a:visited, .post-title strong {
text-decoration: none;
color: #333333;
font-weight: bold;
}
.post div {
margin: 0 0 .75em;
line-height: 1.3em;
}
.post-footer {
margin: -.25em 0 0;
color: #333333;
font-size: 87%;
}
.post-footer .span {
margin-right: .3em;
}
.post img, table.tr-caption-container {
padding: 4px;
border: 1px solid #cccccc;
}
.tr-caption-container img {
border: none;
padding: 0;
}
.post blockquote {
margin: 1em 20px;
}
.post blockquote p {
margin: .75em 0;
}
/* Comments
----------------------------------------------- */
#comments h4 {
margin: 1em 0;
color: #999999;
}
#comments h4 strong {
font-size: 110%;
}
#comments-block {
margin: 1em 0 1.5em;
line-height: 1.3em;
}
#comments-block dt {
margin: .5em 0;
}
#comments-block dd {
margin: .25em 0 0;
}
#comments-block dd.comment-footer {
margin: -.25em 0 2em;
line-height: 1.4em;
font-size: 78%;
}
#comments-block dd p {
margin: 0 0 .75em;
}
.deleted-comment {
font-style:italic;
color:gray;
}
.feed-links {
clear: both;
line-height: 2.5em;
}
#blog-pager-newer-link {
float: left;
}
#blog-pager-older-link {
float: right;
}
#blog-pager {
text-align: center;
}
/* Sidebar Content
----------------------------------------------- */
.sidebar h2 {
margin: 1.6em 0 .5em;
padding: 4px 5px;
background-color: #ffd595;
font-size: 100%;
color: #333333;
}
.sidebar ul {
margin: 0;
padding: 0;
list-style: none;
}
.sidebar li {
margin: 0;
padding-top: 0;
padding-right: 0;
padding-bottom: .5em;
padding-left: 15px;
text-indent: -15px;
line-height: 1.5em;
}
.sidebar {
color: #333333;
line-height:1.3em;
}
.sidebar .widget {
margin-bottom: 1em;
}
.sidebar .widget-content {
margin: 0 5px;
}
/* Profile
----------------------------------------------- */
.profile-img {
float: left;
margin-top: 0;
margin-right: 5px;
margin-bottom: 5px;
margin-left: 0;
padding: 4px;
border: 1px solid #cccccc;
}
.profile-data {
margin:0;
text-transform:uppercase;
letter-spacing:.1em;
font-weight: bold;
line-height: 1.6em;
font-size: 78%;
}
.profile-datablock {
margin:.5em 0 .5em;
}
.profile-textblock {
margin: 0.5em 0;
line-height: 1.6em;
}
/* Footer
----------------------------------------------- */
#footer {
clear: both;
text-align: center;
color: #333333;
}
#footer .widget {
margin:.5em;
padding-top: 20px;
font-size: 85%;
line-height: 1.5em;
text-align: left;
}
/** Page structure tweaks for layout editor wireframe */
body#layout #header {
width: 750px;
}

--></style>
<style>.gc-bubbleDefault{background-color:transparent !important;text-align:left;padding:0 !important;margin:0 !important;border:0 !important;table-layout:auto !important}.gc-reset{background-color:transparent !important;border:0 !important;padding:0 !important;margin:0 !important;text-align:left}.pls-bubbleTop{border-bottom:1px solid #ccc !important}.pls-topTail,.pls-vertShimLeft,.pls-contentLeft{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/border_3.gif) !important}.pls-topTail{background-repeat:repeat-x !important;background-position:bottom !important}.pls-vertShim{background-color:#fff !important;text-align:right}.pls-vertShimLeft{background-repeat:repeat-y !important;background-position:right !important;height:4px}.pls-vertShimRight{height:4px}.pls-confirm-container .pls-vertShim{background-color:#fff3c2 !important}.pls-contentWrap{background-color:#fff !important;position:relative !important;vertical-align:top}.pls-contentLeft{background-repeat:repeat-y;background-position:right;vertical-align:top}.pls-dropRight{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleDropR_3.png) !important;background-repeat:repeat-y !important;vertical-align:top}.pls-vert,.pls-tailleft,.pls-dropTR .pls-dropBR,.pls-dropBL,.pls-vert img{vertical-align:top}.pls-dropBottom{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleDropB_3.png) !important;background-repeat:repeat-x !important;width:100%;vertical-align:top}.pls-topLeft{background:inherit !important;text-align:right;vertical-align:bottom}.pls-topRight{background:inherit !important;text-align:left;vertical-align:bottom}.pls-bottomLeft{background:inherit !important;text-align:right}.pls-bottomRight{background:inherit !important;text-align:left;vertical-align:top}.pls-tailtop,.pls-tailright,.pls-tailbottom,.pls-tailleft{display:none;position:relative}.pls-tailbottom,.pls-tailtop,.pls-tailright,.pls-tailleft,.pls-dropTR,.pls-dropBR,.pls-dropBL{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleSprite_3.png) !important;background-repeat:no-repeat}.pls-tailbottom{background-position:-23px 0}.pls-confirm-container .pls-tailbottom{background-position:-23px -10px}.pls-tailtop{background-position:-19px -20px}.pls-tailright{background-position:0 0}.pls-tailleft{background-position:-10px 0}.pls-tailtop{vertical-align:top}.gc-bubbleDefault td{line-height:0;font-size:0}.pls-topLeft img,.pls-topRight img,.pls-tailbottom{vertical-align:bottom}.pls-bottomLeft img,.bubbleDropTR,.pls-dropBottomL img,.pls-dropBottom img,.pls-dropBottomR img,.pls-bottomLeft{vertical-align:top}.pls-dropTR{background-position:0 -22px}.pls-dropBR{background-position:0 -27px}.pls-dropBL{background-position:0 -16px}.pls-spacertop,.pls-spacerright,.pls-spacerbottom,.pls-spacerleft{position:static !important}.pls-spinner{bottom:0;position:absolute;left:0;margin:auto;right:0;top:0}</style></head>
<body>
</div></div>
<div id="outer-wrapper"><div id="wrap2">
<!-- skip links for text browsers -->
<span id="skiplinks" style="display:none;">
<a href="http://hammerfs-ftw.blogspot.ch/search?max-results=1000#main">skip to main </a> |
      <a href="http://hammerfs-ftw.blogspot.ch/search?max-results=1000#sidebar">skip to sidebar</a>
</span>
<div id="header-wrapper">
<div class="header section" id="header"><div class="widget Header" id="Header1">
<div id="header-inner">
<div class="titlewrapper">
<h1 class="title">
Porting the HAMMER File System to Linux
</h1>
</div>
<div class="descriptionwrapper">
<p class="description"><span>
</span></p>
</div>
</div>
</div></div>
</div>
<div id="content-wrapper">
<div id="crosscol-wrapper" style="text-align:center">
<div class="crosscol section" id="crosscol"></div>
</div>
<div id="main-wrapper">
<div class="main section" id="main"><div class="widget Blog" id="Blog1">
<div class="blog-posts hfeed">
<!-- google_ad_section_start(name=default) -->

          <div class="date-outer">
        
<h2 class="date-header"><span>Dienstag, 9. Juni 2009</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="1294634362189802719" itemprop="postId">
<a name="1294634362189802719"></a>
<h3 class="post-title entry-title" itemprop="name">
10 Seconds of Fame
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-1294634362189802719" itemprop="description articleBody">
This blog is actually linked to by the <a href="http://en.wikipedia.org/wiki/HAMMER">Wikipedia article on the HAMMER File System</a>, and it wasn't me. That's actually very cool, thank you :)
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/06/10-seconds-of-fame.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-06-09T18:18:00-07:00">18:18</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>

            </div></div>
          

          <div class="date-outer">
        
<h2 class="date-header"><span>Montag, 11. Mai 2009</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="572051296059653788" itemprop="postId">
<a name="572051296059653788"></a>
<h3 class="post-title entry-title" itemprop="name">
Error-Driven Development
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-572051296059653788" itemprop="description articleBody">
1. Compile<br>2. Fix errors<br>3. Goto 1<br><br>I like it.<br><br><span style="font-size:85%;"><span style="font-family: courier new;">daniel@daniel:~/linux-2.6.29.1$ make ARCH=um 2&gt;&amp;1 | grep 'error: ' | sed -e 's/.*error: //g' | sort | uniq        </span><br><span style="font-family: courier new;">'EFTYPE' undeclared (first use in this function)</span><br><span style="font-family: courier new;">'FREAD' undeclared (first use in this function)</span><br><span style="font-family: courier new;">'FSCRED' undeclared (first use in this function)</span><br><span style="font-family: courier new;">'FWRITE' undeclared (first use in this function)</span><br><span style="font-family: courier new;">'LK_EXCLUSIVE' undeclared (first use in this function)</span><br><span style="font-family: courier new;">'LK_RETRY' undeclared (first use in this function)</span><br><span style="font-family: courier new;">...</span></span>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/05/error-driven-development.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-05-11T02:49:00-07:00">02:49</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>

            </div></div>
          

          <div class="date-outer">
        
<h2 class="date-header"><span>Sonntag, 12. April 2009</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="3606420843964542948" itemprop="postId">
<a name="3606420843964542948"></a>
<h3 class="post-title entry-title" itemprop="name">
hammerread.c + FUSE = Read HAMMER Filesystem on Linux
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-3606420843964542948" itemprop="description articleBody">
I hacked together a <a href="http://fuse.sourceforge.net/">FUSE</a> module using <a href="#8799773384249395638">hammerread.c</a>, so you can now mount a HAMMER device in read-only mode on Linux. I haven't done any extensive testing, yet, so things are probably still very flaky. You can get the FUSE module from here: <u>fusehammer-0.1.tar.gz</u> and test with <u>hammerdisk.raw.bz2</u>.<br><br>Here's a walkthrough:<br><br><span style="font-size:85%;"><span style="font-family:courier new;">daniel@daniel-desktop:~$ wget http://hammerfs.googlepages.com/fusehammer-0.1.tar.gz</span><br><span style="font-family:courier new;">daniel@daniel-desktop:~$ tar zxf fusehammer-0.1.tar.gz </span><br><span style="font-family:courier new;">daniel@daniel-desktop:~$ cd fusehammer</span><br><span style="font-family:courier new;">daniel@daniel-desktop:~/fusehammer$ make<br></span></span><span style="font-size:85%;"><span style="font-family:courier new;">daniel@daniel-desktop:~/fusehammer$ ./fusehammer<br>HAMMER filesystem for FUSE (readonly)</span></span><br><span style="font-size:85%;"><span style="font-family:courier new;">Usage: ./fusehammer &lt;dev&gt; &lt;mount_point&gt; [&lt;FUSE library options&gt;]</span></span><br><span style="font-size:85%;"><span style="font-family:courier new;">daniel@daniel-desktop:~/fusehammer$ mkdir mnt<br></span><span style="font-family:courier new;">daniel@daniel-desktop:~/fusehammer$ ./fusehammer ../hammerdisk.raw mnt</span><br><span style="font-family:courier new;">daniel@daniel-desktop:~/fusehammer$ ls -l mnt</span><br><span style="font-family:courier new;">total 0</span><br><span style="font-family:courier new;">drwxr-xr-x 0 root root  0 1970-01-01 01:00 a</span><br><span style="font-family:courier new;">-rw-r--r-- 0 root root 12 1970-01-01 01:00 test</span><br><span style="font-family:courier new;">daniel@daniel-desktop:~/fusehammer$ cat mnt/test</span><br><span style="font-family:courier new;">Hello</span><br><span style="font-family:courier new;">World</span><br><span style="font-family:courier new;">daniel@daniel-desktop:~/fusehammer$ fusermount -u mnt</span><br><br>Note that the file attributes are wrong (mtime, ctime ..). I need to investigate that.</span>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/04/hammerreadc-fuse-read-hammer-filesystem.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-04-12T08:12:00-07:00">08:12</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="6942338457985307850" itemprop="postId">
<a name="6942338457985307850"></a>
<h3 class="post-title entry-title" itemprop="name">
POSIX File System Test Suite
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-6942338457985307850" itemprop="description articleBody">
Just found this: <a href="http://ntfs3g.org/pjd-fstest.html">POSIX File System Test Suite</a><br><blockquote></blockquote><blockquote>"The list of system calls tested is: chmod, chown, link, mkdir, mkfifo,  open, rename, rmdir, symlink, truncate, unlink. There are currently 3601 regression tests"</blockquote>Sounds cool, maybe something to look into at a later date.<br><br>In an unrelated matter, I read Amit Singh's (MacFUSE fame) blog on <a href="http://www.osxbook.com/blog/2008/12/16/more-user-space-file-system-goodies/">AncientFS</a>, where he mentions:<br><blockquote>"In future, it [the UnixFS layer] may also evolve into a "LinuxFS" layer that could make it even easier and faster to <em>systematically</em> make Linux kernel-based file systems work on other platforms with very few code changes."</blockquote>Now <span style="font-style: italic;">that</span> sounds interesting.
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/04/posix-file-system-test-suite.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-04-12T05:33:00-07:00">05:33</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>

            </div></div>
          

          <div class="date-outer">
        
<h2 class="date-header"><span>Samstag, 11. April 2009</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="4613350243380116645" itemprop="postId">
<a name="4613350243380116645"></a>
<h3 class="post-title entry-title" itemprop="name">
#define student 04302402740280438773
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-4613350243380116645" itemprop="description articleBody">
#define student <a href="http://www.blogger.com/profile/04302402740280438773">04302402740280438773</a><br><br>in <a href="http://www.shiningsilence.com/dbsdlog/2009/03/25/3995.html">blag</a> included from the intertubes.
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/04/define-student-04302402740280438773.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-04-11T16:08:00-07:00">16:08</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="8799773384249395638" itemprop="postId">
<a name="8799773384249395638"></a>
<h3 class="post-title entry-title" itemprop="name">
hammerread.c ported to Linux
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-8799773384249395638" itemprop="description articleBody">
I ported <a href="#7703667222926010331">hammerread.c</a> to Linux. I was surprised how little I had to change in the source code. The Makefile contains the following switches:<br><pre># -D_BSD_SOURCE for DT_FIFO, DT_CHR .. in &lt;dirent.h&gt;<br># -D_FILE_OFFSET_BITS=64 for large ino_t in &lt;dirent.h&gt;<br># -D_XOPEN_SOURCE=500 for pread64 in &lt;unistd.h&gt;<br></pre>You can test the application yourself. Grab a disk image from here: <u>hammerdisk.raw.bz2</u>. The contents of the image are:<br><pre>$ find . -type f -ls<br>6400704     0 -rw-r--r--    1 root   wheel  12 Mar 23 20:04 ./test<br>12801152    0 -rw-r--r--    1 root   wheel   4 Apr 11 00:56 ./a/b/c/bar<br></pre>Now download <u>hammerread-0.1.tar.gz</u> and use it as follows:<br><br><span style="font-size:85%;"><span style="font-family:courier new;">daniel@daniel-desktop:~$ wget http://hammerfs.googlepages.com/hammerread-0.1.tar.gz</span><br><span style="font-family:courier new;">daniel@daniel-desktop:~$ tar zxf hammerread-0.1.tar.gz </span><br><span style="font-family:courier new;">daniel@daniel-desktop:~$ cd hammerread</span><br><span style="font-family:courier new;">daniel@daniel-desktop:~/hammerread$ make</span><br><span style="font-family:courier new;">daniel@daniel-desktop:~/hammerread$ ./hammerread ../hammerdisk.raw </span><br><span style="font-family:courier new;">signature: valid</span><br><span style="font-family:courier new;">name: HAMMER</span><br><span style="font-family:courier new;">daniel@daniel-desktop:~/hammerread$ ./hammerread ../hammerdisk.raw /</span><br><span style="font-family:courier new;">signature: valid</span><br><span style="font-family:courier new;">name: HAMMER</span><br><span style="font-family:courier new;">/ 0/0 40755 0</span><br><span style="font-family:courier new;">test 8 10061aac0</span><br><span style="font-family:courier new;">a 4 1007a1650</span><br><span style="font-family:courier new;">daniel@daniel-desktop:~/hammerread$ ./hammerread ../hammerdisk.raw /test</span><br><span style="font-family:courier new;">signature: valid</span><br><span style="font-family:courier new;">name: HAMMER</span><br><span style="font-family:courier new;">/test 0/0 100644 12</span><br><span style="font-family:courier new;">Hello</span><br><span style="font-family:courier new;">World</span></span>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/04/hammerreadc-ported-to-linux.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-04-11T15:07:00-07:00">15:07</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>

            </div></div>
          

          <div class="date-outer">
        
<h2 class="date-header"><span>Donnerstag, 9. April 2009</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="7238386227688905450" itemprop="postId">
<a name="7238386227688905450"></a>
<h3 class="post-title entry-title" itemprop="name">
STOP!
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-7238386227688905450" itemprop="description articleBody">
<a href="http://www.youtube.com/watch?v=2c4L4CPfQY8">Hammer time</a>!<br><br>My work on the hammer file system is completed. You may download the module here: <u>hammerfs-0.1.tar.gz</u>. Here's a short walkthrough:<br><br><span style="font-size:85%;"><span style="font-family:courier new;">root@daniel-desktop:~# wget http://hammerfs.googlepages.com/hammerfs-0.1.tar.gz</span><br><span style="font-family:courier new;">root@daniel-desktop:~# tar zxf hammerfs-0.1.tar.gz </span><br><span style="font-family:courier new;">root@daniel-desktop:~# cd hammerfs</span><br><span style="font-family:courier new;">root@daniel-desktop:~/hammerfs# make</span><br><span style="font-family:courier new;">root@daniel-desktop:~/hammerfs# insmod hammer.ko</span><br><span style="font-family:courier new;">root@daniel-desktop:~/hammerfs# mount -t hammerfs nodev /mnt</span><br><span style="font-family:courier new;">root@daniel-desktop:~/hammerfs# cd /mnt</span><br><span style="font-family:courier new;">root@daniel-desktop:/mnt# ls -l</span><br><span style="font-family:courier new;">total 0</span><br><span style="font-family:courier new;">-rw-r--r-- 1 root root 434 2009-04-10 00:26 hammertime</span><br><span style="font-family:courier new;">root@daniel-desktop:/mnt# touch hammertime </span><br><span style="font-family:courier new;">touch: setting times of „hammertime“: Operation not permitted # can't touch this</span><br><span style="font-family:courier new;">root@daniel-desktop:/mnt# cat hammertime </span><br><pre>                             <br>            .d:.            <br>       ...,;l0kc.           <br>       .l;oddO0xOd:.        <br>        .'dxOKOd;..         <br>         ;0kdo:.            <br>       .xNNXKKl             <br>       dNNNNNNX;            <br>       dNNNNNNNx            <br>       'XNKo0NNk            <br>       :XK, .ONK.           <br>       ;Xl   .kK.           <br>       .Oc    '0.           <br>        ..    .d;           <br></pre></span><br>The special file <span style="font-size:85%;"><span style="font-family:courier new;">hammertime</span></span> will display a new frame each time it is <span style="font-size:85%;"><span style="font-family:courier new;">cat</span></span>ed. To watch the entire animation, type<span style="font-size:85%;"><span style="font-family:courier new;"> watch -n0.1 cat hammertime </span></span>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/04/stop.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-04-09T15:27:00-07:00">15:27</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>

            </div></div>
          

          <div class="date-outer">
        
<h2 class="date-header"><span>Montag, 6. April 2009</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="4117191497355588795" itemprop="postId">
<a name="4117191497355588795"></a>
<h3 class="post-title entry-title" itemprop="name">
fat free
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-4117191497355588795" itemprop="description articleBody">
<a href="http://lxr.linux.no/linux+v2.6.29/fs/fat/file.c#L168">fat_free</a>, <a href="http://lxr.linux.no/linux+v2.6.29/include/linux/buffer_head.h#L280"></a> <a href="http://lxr.linux.no/linux+v2.6.29/include/linux/buffer_head.h#L286">sb_breadahead</a> ..<br><br>kernel identifiers are funny. <a href="http://www.youtube.com/watch?v=pFrCyqwwRYQ">ha-ha</a>.
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/04/fat-free.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-04-06T12:23:00-07:00">12:23</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="2633863934515366601" itemprop="postId">
<a name="2633863934515366601"></a>
<h3 class="post-title entry-title" itemprop="name">
Sample filesystems
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-2633863934515366601" itemprop="description articleBody">
Seems, there is quite a few of them:<br><ul><li><a href="http://www.geocities.com/ravikiran_uvs/articles/rkfs.html">rkfs</a><br></li><li><a href="http://lwn.net/Articles/13325/">lwnfs</a></li><li><a href="http://us1.samba.org/samba/ftp/cifs-cvs/ols2006-fs-tutorial-smf.pdf">samplefs</a> (<a href="http://svn.samba.org/samba/ftp/cifs-cvs/samplefs.tar.gz">src</a>)</li><li><a href="http://lxr.linux.no/linux+v2.6.29/fs/ramfs/">ramfs</a></li></ul>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/04/sample-filesystems.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-04-06T08:29:00-07:00">08:29</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>

            </div></div>
          

          <div class="date-outer">
        
<h2 class="date-header"><span>Freitag, 3. April 2009</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="3117351839118177310" itemprop="postId">
<a name="3117351839118177310"></a>
<h3 class="post-title entry-title" itemprop="name">
Debugging Linux kernels with VMWare
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-3117351839118177310" itemprop="description articleBody">
Still trying to find something, since UML didn't work for me. This here works with VMWare Fusion, too:<br><a href="http://stackframe.blogspot.com/2007/04/debugging-linux-kernels-with.html">Debugging the virtual world.: Debugging Linux kernels with Workstation 6.0</a><br><br>I had to edit the .vmx file and add <span style="font-size:100%;"><span style="font-style: italic;">    debugStub.listen.guest32=1 </span>to it, then the log said:<span style="font-style: italic;"><br><br><span style="font-size:85%;"><span style="font-family:courier new;">Apr 03 14:33:57.701: vmx| VMware Fusion is listening for debug connection on port 8832.</span><br><span style="font-family:courier new;">Apr 03 14:33:57.701: vmx|     target remote localhost:8832</span></span><br><br></span>yay.<span> I can't load the debug symbols of the kernel, though.</span><span style="font-style: italic;"><br><br>(gdb) file vmlinuz-2.6.27-11-generic<br>"/Users/daniel/vmlinuz-2.6.27-11-generic": not in executable format: File format not recognized<br></span><span><br><span style="font-weight: bold;">Update:</span></span><span> Seems like I need to get the uncompressed kernel (vmlinux) for the debug symbols, which involves <a href="https://wiki.ubuntu.com/DebuggingProgramCrash/">getting the appropriate .debs from ddebs.ubuntu.com</a></span></span>.<span style="font-size:100%;"><span style="font-style: italic;"> </span><span>I didn't follow that further, as I got <a href="http://hammerfs-ftw.blogspot.com/2009/03/kernel-hacking-with-uml.html">UML</a> working which I find more comfortable anyway.</span><span style="font-style: italic;"><br></span></span>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/04/debugging-linux-kernels-with-vmware.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-04-03T05:36:00-07:00">05:36</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>

            </div></div>
          

          <div class="date-outer">
        
<h2 class="date-header"><span>Mittwoch, 1. April 2009</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="3058086620161656248" itemprop="postId">
<a name="3058086620161656248"></a>
<h3 class="post-title entry-title" itemprop="name">
The Linux Kernel Module Programming Guide
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-3058086620161656248" itemprop="description articleBody">
<blockquote><p>So, you want to write a kernel module.  You know C, you've written a few normal programs to run as processes, and now you want to get to where the real action is, to where a single wild pointer can wipe out your file system and a core dump  means a reboot.</p></blockquote><a href="http://www.tldp.org/LDP/lkmpg/2.6/html/">Yes, I do</a>.
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/04/linux-kernel-module-programming-guide.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-04-01T07:50:00-07:00">07:50</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>

            </div></div>
          

          <div class="date-outer">
        
<h2 class="date-header"><span>Donnerstag, 26. März 2009</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="6164361504581965219" itemprop="postId">
<a name="6164361504581965219"></a>
<h3 class="post-title entry-title" itemprop="name">
Volume header and endianness
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-6164361504581965219" itemprop="description articleBody">
The volume header is defined as follows (<a href="http://gitweb.dragonflybsd.org/dragonfly.git/blob_plain/HEAD:/sys/vfs/hammer/hammer_disk.h">vfs/hammer/hammer_disk.h</a>):<br><br><span style="font-size:85%;"><span style="font-family:courier new;">/*</span><br><span style="font-family:courier new;"> * Volume header types</span><br><span style="font-family:courier new;"> */</span><br><span style="font-family:courier new;">#define HAMMER_FSBUF_VOLUME     0xC8414D4DC5523031ULL   /* HAMMER01 */</span><br><span style="font-family:courier new;">#define HAMMER_FSBUF_VOLUME_REV 0x313052C54D4D41C8ULL   /* (reverse endian) */</span><br></span><br>and<br><span style="font-size:85%;"><br><span style="font-family:courier new;">struct hammer_volume_ondisk {</span><br><span style="font-family:courier new;">     u_int64_t vol_signature;/* Signature */</span><br><span style="font-family:courier new;">     ..</span><br><span style="font-family:courier new;">     char      vol_name[64]; /* Name of volume */</span><br><span style="font-family:courier new;">     ..</span><br><span style="font-family:courier new;">}</span></span><br><br>now<br><br><span style="font-size:85%;"><span style="font-family:courier new;">-bash-4.0# dd if=/dev/ad1s0e of=dump bs=1B count=1</span><br><span style="font-family:courier new;">1+0 records in</span><br><span style="font-family:courier new;">1+0 records out</span><br><span style="font-family:courier new;">512 bytes transferred in 0.000320 secs (1600211 bytes/sec)</span><br><span style="font-family:courier new;">-bash-4.0# hexdump -C dump | head </span><br><span style="font-family:courier new;">00000000  31 30 52 c5 4d 4d 41 c8  00 00 04 00 00 00 00 00  |<span style="color: rgb(0, 153, 0);">10R.MMA.</span>........|</span><br><span style="font-family:courier new;">00000010  00 00 14 00 00 00 00 00  00 00 24 00 00 00 00 00  |..........$.....|</span><br><span style="font-family:courier new;">00000020  00 00 40 1f 00 00 00 00  00 00 00 00 00 00 00 00  |..@.............|</span><br><span style="font-family:courier new;">00000030  ab 3a fa 2a dc 17 de 11  92 2e 01 0c 29 6d 7b af  |.:.*........)m{.|</span><br><span style="font-family:courier new;">00000040  ac 63 dc 61 38 6e dc 11  85 13 01 30 1b b8 a9 f5  |.c.a8n.....0....|</span><br><span style="font-family:courier new;">00000050  48 41 4d 4d 45 52 00 00  00 00 00 00 00 00 00 00  |<span style="color: rgb(0, 153, 0);">HAMMER</span>..........|</span><br><span style="font-family:courier new;">00000060  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span style="font-family:courier new;">*</span><br><span style="font-family:courier new;">00000090  00 00 00 00 01 00 00 00  01 00 00 00 bb d0 4b bd  |..............K.|</span><br><span style="font-family:courier new;">000000a0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br></span><br>The volume signature (10R.MMA.) is backwards and not even correct (partly due to endianness), while the volume name appears correctly.<br><br>Maybe something to investigate.
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/03/volume-header-and-endianness.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-03-26T08:19:00-07:00">08:19</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="328425215903487494" itemprop="postId">
<a name="328425215903487494"></a>
<h3 class="post-title entry-title" itemprop="name">
Kernel Hacking with UML
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-328425215903487494" itemprop="description articleBody">
<a href="http://user-mode-linux.sourceforge.net/hacking.html">Kernel Hacking with UML</a><span style="font-weight: bold;"><br><br></span>Fails inside Linux running on VMWare Fusion on my Mac<span style="font-weight: bold;">,</span> but works on a physical machine. Seems to be the way to go.<span style="font-weight: bold;"> </span>I chose Debian 4.0 from the <a href="http://uml.nagafix.co.uk/filesystems/">pre-made filesystems</a>.<span style="font-weight: bold;"><br></span>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/03/kernel-hacking-with-uml.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-03-26T05:48:00-07:00">05:48</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="3731289613350975892" itemprop="postId">
<a name="3731289613350975892"></a>
<h3 class="post-title entry-title" itemprop="name">
B+Tree
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-3731289613350975892" itemprop="description articleBody">
<strong style="font-weight: normal;"><a href="http://portal.acm.org/citation.cfm?doid=356770.356776">Ubiquitous B-Tree</a>, <a href="http://gitweb.dragonflybsd.org/dragonfly.git/blob_plain/HEAD:/sys/vfs/hammer/hammer_btree.h">hammer_btree.h</a>, <a href="http://gitweb.dragonflybsd.org/dragonfly.git/blob_plain/HEAD:/sys/vfs/hammer/hammer_btree.c">hammer_btree.c</a><br></strong>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/03/btree.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-03-26T05:06:00-07:00">05:06</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>

            </div></div>
          

          <div class="date-outer">
        
<h2 class="date-header"><span>Dienstag, 24. März 2009</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="2802103324884928279" itemprop="postId">
<a name="2802103324884928279"></a>
<h3 class="post-title entry-title" itemprop="name">
Project Proposal
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-2802103324884928279" itemprop="description articleBody">
For the project proposal, I found a very good <a href="http://www.axi.ca/tca/may2004/templatesplus_2.shtml">template/guideline</a>.<br><br>Here's the proposal I handed in: <u>proposal-lorch.pdf</u>.
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/03/project-proposal.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-03-24T10:55:00-07:00">10:55</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="7703667222926010331" itemprop="postId">
<a name="7703667222926010331"></a>
<h3 class="post-title entry-title" itemprop="name">
hammerread.c
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-7703667222926010331" itemprop="description articleBody">
<a href="http://gitweb.dragonflybsd.org/dragonfly.git/blob_plain?f=lib/libstand/hammerread.c">hammerread.c</a> is a self-contained library for the bootloader to read the hammer filesystem. It can be compiled as a command line tool using -DTESTING.<br><br>First <a href="http://leaf.dragonflybsd.org/~justin/new-bsdusers/article.html">get the dragonfly sources with cvsup</a>, then:<br><br><span style="font-size:85%;"><span style="font-family:courier new;">-bash-4.0# cd /usr/src/lib/libstand   <br>-bash-4.0# cc -DTESTING -std=c99 hammerread.c -o hammerread</span><br><span style="font-family:courier new;">-bash-4.0# ./hammerread</span><br><span style="font-family:courier new;">usage: hammerread <dev></dev></span><br><span style="font-family:courier new;">-bash-4.0# ./hammerread /dev/ad1s0e</span><br><span style="font-family:courier new;">signature: valid</span><br><span style="font-family:courier new;">name: HAMMER</span><br><span style="font-family:courier new;">-bash-4.0# ./hammerread /dev/ad1s0e /test</span><br><span style="font-family:courier new;">signature: valid</span><br><span style="font-family:courier new;">name: HAMMER</span><br><span style="font-family:courier new;">/test 0/0 100644 12</span><br><span style="font-family:courier new;">Hello</span><br><span style="font-family:courier new;">World</span></span>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/03/hammerreadc.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-03-24T09:10:00-07:00">09:10</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="9038347332067312122" itemprop="postId">
<a name="9038347332067312122"></a>
<h3 class="post-title entry-title" itemprop="name">
Discovering HAMMER
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-9038347332067312122" itemprop="description articleBody">
Time to play. <a href="http://people.core.gen.tr/blog/2008/07/28#hammerfilesystem">I installed a hammer filesystem</a>.<br><br><span style=";font-family:courier new;font-size:85%;">-bash-4.0# echo Hello &gt; test<br>-bash-4.0# echo World &gt;&gt; test<br>-bash-4.0# hammer history test<br>test 000000010061aac0 clean {<br>00000001007a1520 23-Mar-2009 20:04:11<br>00000001007a1580 23-Mar-2009 20:04:43<br>}<br>-bash-4.0# cat test@@0x00000001007a1520<br>Hello<br>-bash-4.0# cat test@@0x00000001007a1580<br>Hello<br>World<br>-bash-4.0# cat test<br>Hello<br>World</span><br><br>Snapshot creation:<br><br><span style="font-family: courier new;font-size:85%;">-bash-4.0# hammer snapshot /mnt /mnt/snap<br>/mnt/snap<br>-bash-4.0# ls -l snap<br>lrwxr-xr-x  1 root  wheel  25 Mar 23 20:07 snap -&gt; /mnt/@@0x00000001007a15c0<br>-bash-4.0# ls snap/</span><span style="font-family: courier new;font-size:85%;"><br>test</span><p></p>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/03/discovering-hammer.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-03-24T08:55:00-07:00">08:55</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>

            </div></div>
          

          <div class="date-outer">
        
<h2 class="date-header"><span>Freitag, 20. März 2009</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="4045125721170847847" itemprop="postId">
<a name="4045125721170847847"></a>
<h3 class="post-title entry-title" itemprop="name">
Getting the Code
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-4045125721170847847" itemprop="description articleBody">
<a href="http://leaf.dragonflybsd.org/cgi/web-man?command=development&section=ANY">development(7):</a> git clone -o crater git://crater.dragonflybsd.org/dragonfly.git dragonfly.git<br><pre style="font-family: courier new;"><span style="font-family: arial;">Got the code. There is <a href="http://gitweb.dragonflybsd.org/dragonfly.git">gitweb</a>, too.</span><br></pre>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/03/getting-code.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-03-20T06:42:00-07:00">06:42</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="2310922504104016093" itemprop="blogId">
<meta content="5641406080302687516" itemprop="postId">
<a name="5641406080302687516"></a>
<h3 class="post-title entry-title" itemprop="name">
Hello
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-5641406080302687516" itemprop="description articleBody">
I am going to port the <a href="http://www.dragonflybsd.org/hammer/">HAMMER File System</a> from DragonflyBSD to Linux as part of a <a href="http://labos.epfl.ch/page69764.html">semester project</a> and thought it might be useful to keep a record of what is being done.
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
Eingestellt von
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<meta content="http://www.blogger.com/profile/04302402740280438773" itemprop="url">
<a href="http://www.blogger.com/profile/04302402740280438773" rel="author" title="author profile">
<span itemprop="name">Daniel Lorch</span>
</a>
</span>
</span>
<span class="post-timestamp">
um
<meta content="http://hammerfs-ftw.blogspot.ch/2009/03/hello.html" itemprop="url">
<abbr class="published" itemprop="datePublished" title="2009-03-20T06:33:00-07:00">06:33</abbr>
</span>
<span class="reaction-buttons">
</span>
<span class="star-ratings">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
</span>
<div class="post-share-buttons goog-inline-block">
</div>
</div>
<div class="post-footer-line post-footer-line-2">
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
</div>

</div></div>
      
<!-- google_ad_section_end -->
</div>
</div></div>
</div>
<!-- spacer for skins that want sidebar and main to be the same height-->
<div class="clear">&nbsp;</div>
</div>
<!-- end content-wrapper -->
<div id="footer-wrapper">
<div class="footer section" id="footer"></div>
</div>
</div></div>
<!-- end outer-wrapper -->

</body></html>